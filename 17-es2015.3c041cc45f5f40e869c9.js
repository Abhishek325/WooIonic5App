(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"8xH5":function(t,n,e){"use strict";e.r(n),e.d(n,"HomePageModule",(function(){return I}));var i=e("ofXK"),o=e("3Pt+"),c=e("TEn/"),r=e("tyNb"),s=e("fXoL"),a=e("np0s"),b=e("tk/3");let l=(()=>{class t{constructor(t){this.httpClient=t}getAllCategories(){return this.httpClient.get("products/categories")}getSingleCategory(t){return this.httpClient.get("products/categories/"+t)}}return t.\u0275fac=function(n){return new(n||t)(s.Tb(b.b))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=e("gXft");function u(t,n){if(1&t){const t=s.Qb();s.Pb(0,"ion-col",2),s.Pb(1,"div",3),s.Pb(2,"ion-card",4),s.Xb("click",(function(){s.kc(t);const e=n.$implicit;return s.Zb().setContext(e.id,e.slug)})),s.Nb(3,"img",5),s.Pb(4,"div",6),s.pc(5),s.Ob(),s.Pb(6,"div",7),s.pc(7),s.Ob(),s.Ob(),s.Ob(),s.Ob()}if(2&t){const t=n.$implicit;s.Cb(2),s.ec("routerLink","/home/products-by-category/",t.id,""),s.Cb(1),s.cc("src",t.image.src,s.mc),s.Cb(2),s.qc(t.slug),s.Cb(2),s.rc("",t.count," products")}}function d(t,n){1&t&&(s.Pb(0,"ion-item",9),s.Pb(1,"ion-thumbnail",10),s.Nb(2,"ion-skeleton-text",11),s.Ob(),s.Pb(3,"ion-thumbnail",10),s.Nb(4,"ion-skeleton-text",11),s.Ob(),s.Ob())}const p=function(){return[]};function h(t,n){1&t&&(s.Pb(0,"div"),s.oc(1,d,5,0,"ion-item",8),s.Ob()),2&t&&(s.Cb(1),s.cc("ngForOf",s.fc(1,p).constructor(2)))}let f=(()=>{class t{constructor(t,n){this.categoryService=t,this.contextService=n,this.categoryList=[],this.showCategoryLoading=!0,this.imagesLoadedCount=0}setContext(t,n){this.contextService.entityIdSelected=t,this.contextService.entityNameSelected=n}ngOnInit(){this.categoryService.getAllCategories().subscribe(t=>{this.categoryList=t,this.contextService.categories=this.categoryList,this.showCategoryLoading=!1},t=>{this.showCategoryLoading=!1})}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(l),s.Mb(g.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-category-card-view"]],decls:4,vars:2,consts:[["size","6",4,"ngFor","ngForOf"],[4,"ngIf"],["size","6"],[1,"card-background-page"],[1,"ion-no-margin",3,"routerLink","click"],[3,"src"],[1,"card-title"],[1,"card-subtitle"],["lines","none","class","ion-no-margin",4,"ngFor","ngForOf"],["lines","none",1,"ion-no-margin"],["slot","start",1,"tile"],["animated",""]],template:function(t,n){1&t&&(s.Pb(0,"ion-grid"),s.Pb(1,"ion-row"),s.oc(2,u,8,4,"ion-col",0),s.Ob(),s.Ob(),s.oc(3,h,2,2,"div",1)),2&t&&(s.Cb(2),s.cc("ngForOf",n.categoryList),s.Cb(1),s.cc("ngIf",n.showCategoryLoading))},directives:[c.o,c.F,i.i,i.j,c.m,c.h,c.ab,r.h,c.v,c.U,c.L],styles:[".card-background-page[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{position:relative;text-align:center}.card-background-page[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;width:100%;margin-bottom:-.25rem}.card-background-page[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff;top:36%;font-size:2em;font-weight:700;text-shadow:2px 4px 2px #222;text-transform:capitalize}.card-background-page[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{position:absolute;width:100%;color:#fff;top:52%;font-size:1em;margin-top:.75rem;text-shadow:1px 3px 2px #222}.tile[_ngcontent-%COMP%]{width:50%;height:100px;margin:4px;padding:0}"]}),t})();var m=e("MSUK"),O=e("1eqS");function P(t,n){if(1&t&&s.Nb(0,"p",8),2&t){const t=s.Zb().$implicit;s.cc("innerHTML",t.price_html,s.lc)}}function v(t,n){if(1&t&&s.Nb(0,"p",8),2&t){const t=s.Zb().$implicit;s.cc("innerHTML",t.price_html,s.lc)}}function C(t,n){if(1&t&&(s.Pb(0,"ion-item",4),s.Pb(1,"ion-avatar",5),s.Nb(2,"img",6),s.Ob(),s.Pb(3,"ion-label"),s.Pb(4,"h2"),s.pc(5),s.Ob(),s.oc(6,P,1,1,"p",7),s.oc(7,v,1,1,"p",7),s.Ob(),s.Ob()),2&t){const t=n.$implicit;s.ec("routerLink","/home/product/",t.id,""),s.Cb(2),s.cc("src",t.images[0].src,s.mc),s.Cb(3),s.qc(t.name),s.Cb(1),s.cc("ngIf",0==t.variations.length),s.Cb(1),s.cc("ngIf",0!=t.variations.length)}}function x(t,n){if(1&t){const t=s.Qb();s.Pb(0,"div"),s.Pb(1,"ion-list"),s.oc(2,C,8,5,"ion-item",1),s.Ob(),s.Pb(3,"ion-infinite-scroll",2),s.Xb("ionInfinite",(function(n){return s.kc(t),s.Zb().loadData(n)})),s.Nb(4,"ion-infinite-scroll-content",3),s.Ob(),s.Ob()}if(2&t){const t=s.Zb();s.Cb(2),s.cc("ngForOf",t.products)}}function w(t,n){1&t&&(s.Pb(0,"ion-item",10),s.Pb(1,"ion-thumbnail",5),s.Nb(2,"ion-skeleton-text"),s.Ob(),s.Pb(3,"ion-label"),s.Pb(4,"h3"),s.Nb(5,"ion-skeleton-text",11),s.Ob(),s.Pb(6,"p"),s.Nb(7,"ion-skeleton-text",12),s.Ob(),s.Pb(8,"p"),s.Nb(9,"ion-skeleton-text",13),s.Ob(),s.Ob(),s.Ob())}const y=function(){return[]};function L(t,n){1&t&&(s.Pb(0,"ion-list"),s.oc(1,w,10,0,"ion-item",9),s.Ob()),2&t&&(s.Cb(1),s.cc("ngForOf",s.fc(1,y).constructor(3)))}let k=(()=>{class t{constructor(t,n,e){this.productService=t,this.contextService=n,this.toastService=e,this.currentPage=1,this.products=[],this.isLoading=!0}loadData(t){null==t?this.currentPage=1:(this.currentPage++,this.productService.getAllProducts(this.currentPage).subscribe(n=>{this.products.push(...n),null!=t&&t.target.complete(),n.length<10&&(this.toastService.presentToast("You have scrolled through all products!"),t.target.disabled=!0)}))}ngOnInit(){this.productService.getAllProducts(this.currentPage).subscribe(t=>{this.products=t,this.contextService.products=t,this.isLoading=!1})}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(m.a),s.Mb(g.a),s.Mb(O.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-all-products-list"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"routerLink",4,"ngFor","ngForOf"],["threshold","10px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading products..."],[3,"routerLink"],["slot","start"],[3,"src"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],["animated","",2,"width","30%"]],template:function(t,n){1&t&&(s.oc(0,x,5,1,"div",0),s.oc(1,L,2,2,"ion-list",0)),2&t&&(s.cc("ngIf",!n.isLoading),s.Cb(1),s.cc("ngIf",n.isLoading))},directives:[i.j,c.x,i.i,c.s,c.t,c.v,c.ab,r.h,c.b,c.w,c.U,c.L],styles:[""]}),t})();const M=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[["title","Home"]],template:function(t,n){1&t&&(s.Pb(0,"ion-header"),s.Nb(1,"app-toolbar",0),s.Ob(),s.Pb(2,"ion-content"),s.Nb(3,"app-category-card-view"),s.Nb(4,"app-all-products-list"),s.Ob())},directives:[c.p,a.a,c.n,f,k],styles:[""]}),t})()}];let S=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(n){return new(n||t)},imports:[[r.j.forChild(M)],r.j]}),t})();var N=e("k9Ri");let I=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(n){return new(n||t)},imports:[[i.b,o.a,c.X,N.a,S]]}),t})()}}]);