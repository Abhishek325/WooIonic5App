(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{wo8r:function(t,e,r){"use strict";r.r(e),r.d(e,"OrderListPageModule",(function(){return x}));var n=r("ofXK"),o=r("3Pt+"),i=r("TEn/"),s=r("tyNb"),c=r("fXoL"),b=r("vpl3");let a=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(){return this.auth.isAuthenticated().then(t=>!!t||(this.router.navigate(["home","login"]),!1))}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(b.a),c.Tb(s.g))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac}),t})();var l=r("tk/3");let d=(()=>{class t{constructor(t){this.httpClient=t}createOrder(t){return this.httpClient.post("orders",t)}getOrderListForCustomerId(t){return this.httpClient.get(`customers/${t}/orders`)}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(l.b))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=r("n90K"),p=r("np0s");function h(t,e){if(1&t&&(c.Pb(0,"p",11),c.pc(1),c.Pb(2,"a",12),c.pc(3),c.Ob(),c.Ob()),2&t){const t=e.$implicit;c.Cb(1),c.rc(" ",t.quantity," kg of "),c.Cb(1),c.ec("routerLink","/home/product/",t.product_id,""),c.Cb(1),c.qc(t.name)}}function f(t,e){if(1&t&&(c.Pb(0,"ion-item"),c.Pb(1,"ion-grid"),c.Pb(2,"ion-row"),c.Pb(3,"ion-col",5),c.Pb(4,"ion-label"),c.Pb(5,"b"),c.pc(6),c.Ob(),c.pc(7," \xa0\xa0"),c.Pb(8,"ion-badge",6),c.pc(9),c.Ob(),c.Nb(10,"br"),c.Pb(11,"small",7),c.pc(12,"Via "),c.Pb(13,"i"),c.pc(14),c.Ob(),c.Ob(),c.Ob(),c.Pb(15,"ion-label",8),c.pc(16),c.Ob(),c.Ob(),c.Pb(17,"ion-col",5),c.oc(18,h,4,3,"p",9),c.Pb(19,"p",10),c.pc(20),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&t){const t=e.$implicit;c.Cb(6),c.rc("Order #",t.order_number,""),c.Cb(2),c.cc("color","completed"==t.status?"success":"paid"==t.status?"warning":"danger"),c.Cb(1),c.rc("",t.status," "),c.Cb(5),c.qc(t.shipping_methods),c.Cb(2),c.rc("\u20b9 ",t.total,""),c.Cb(2),c.cc("ngForOf",t.line_items),c.Cb(2),c.rc("Order created on ",t.created_at.substring(0,10)," ")}}function g(t,e){if(1&t&&(c.Pb(0,"ion-list"),c.oc(1,f,21,7,"ion-item",4),c.Ob()),2&t){const t=c.Zb();c.Cb(1),c.cc("ngForOf",t.orders)}}function O(t,e){1&t&&(c.Pb(0,"ion-item"),c.Pb(1,"ion-thumbnail",13),c.Nb(2,"ion-skeleton-text",14),c.Ob(),c.Pb(3,"ion-label"),c.Pb(4,"h3"),c.Nb(5,"ion-skeleton-text",15),c.Ob(),c.Pb(6,"p"),c.Nb(7,"ion-skeleton-text",15),c.Ob(),c.Pb(8,"p"),c.Nb(9,"ion-skeleton-text",16),c.Ob(),c.Pb(10,"p"),c.Nb(11,"ion-skeleton-text",16),c.Ob(),c.Ob(),c.Ob())}const m=function(){return[]};function P(t,e){1&t&&(c.Pb(0,"ion-list"),c.oc(1,O,12,0,"ion-item",4),c.Ob()),2&t&&(c.Cb(1),c.cc("ngForOf",c.fc(1,m).constructor(3)))}function w(t,e){1&t&&(c.Pb(0,"ion-list"),c.Pb(1,"ion-item"),c.pc(2," No orders to list "),c.Ob(),c.Ob())}const C=[{path:"",component:(()=>{class t{constructor(t,e){this.orderService=t,this.storageService=e,this.orders=[],this.loading=!0}getOrderList(){return this.storageService.get("user").then(t=>{this.user=t,this.orderService.getOrderListForCustomerId(this.user.id).subscribe(t=>{this.loading=!1,this.orders=t.orders})})}doRefresh(t){this.getOrderList().then(e=>{t.target.complete()})}ngOnInit(){this.getOrderList().then(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(d),c.Mb(u.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-order-list"]],decls:8,vars:3,consts:[["title","My Account"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Pull down to refresh","refreshingSpinner","bubbles"],[4,"ngIf"],[4,"ngFor","ngForOf"],["size","12"],[2,"margin-bottom","-0.15rem",3,"color"],[1,"secondary"],[1,"ion-text-right",2,"margin-top","-2rem","color","#999"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"secondary",2,"font-size","13px"],[1,"ion-text-wrap"],[2,"text-decoration","none",3,"routerLink"],["slot","start"],["animated",""],["animated","",2,"width","80%"],["animated","",2,"width","50%"]],template:function(t,e){1&t&&(c.Pb(0,"ion-header"),c.Nb(1,"app-toolbar",0),c.Ob(),c.Pb(2,"ion-content"),c.Pb(3,"ion-refresher",1),c.Xb("ionRefresh",(function(t){return e.doRefresh(t)})),c.Nb(4,"ion-refresher-content",2),c.Ob(),c.oc(5,g,2,1,"ion-list",3),c.oc(6,P,2,2,"ion-list",3),c.oc(7,w,3,0,"ion-list",3),c.Ob()),2&t&&(c.Cb(5),c.cc("ngIf",e.orders.length>0),c.Cb(1),c.cc("ngIf",0==e.orders.length&&e.loading),c.Cb(1),c.cc("ngIf",0==e.orders.length&&!e.loading))},directives:[i.p,p.a,i.n,i.C,i.D,n.j,i.x,n.i,i.v,i.o,i.F,i.m,i.w,i.e,s.i,i.ab,i.U,i.L],styles:[""]}),t})(),canActivate:[a]}];let v=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},providers:[a],imports:[[s.j.forChild(C)],s.j]}),t})();var k=r("k9Ri");let x=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[n.b,o.a,i.X,k.a,v]]}),t})()}}]);