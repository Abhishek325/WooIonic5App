(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"E8+X":function(t,e,n){"use strict";n.r(e),n.d(e,"ProductListPageModule",(function(){return L}));var i=n("ofXK"),c=n("3Pt+"),o=n("TEn/"),r=n("tyNb"),s=n("fXoL"),a=n("MSUK"),d=n("gXft"),b=n("np0s");function g(t,e){if(1&t){const t=s.Qb();s.Pb(0,"ion-segment-button",3),s.Xb("click",(function(){s.kc(t);const n=e.$implicit;return s.Zb().onChange(n.id,n.name)})),s.pc(1),s.Ob()}if(2&t){const t=e.$implicit;s.cc("value",t.id),s.Cb(1),s.rc("",t.name," ")}}let l=(()=>{class t{constructor(t){this.contextService=t,this.changed=new s.o}onChange(t,e){this.categoryId=t,this.contextService.entityIdSelected=t,this.contextService.entityNameSelected=e,this.changed.emit()}ngOnInit(){this.categoryId=this.contextService.entityIdSelected,this.categoryListForSegment=this.contextService.categories}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(d.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-category-segment-view"]],outputs:{changed:"changed"},decls:3,vars:2,consts:[[1,"ion-no-margin","ion-no-padding"],["scrollable","","no-margin","",3,"value"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]],template:function(t,e){1&t&&(s.Pb(0,"ion-card",0),s.Pb(1,"ion-segment",1),s.oc(2,g,2,2,"ion-segment-button",2),s.Ob(),s.Ob()),2&t&&(s.Cb(1),s.cc("value",e.categoryId),s.Cb(1),s.cc("ngForOf",e.categoryListForSegment))},directives:[o.h,o.H,o.bb,i.i,o.I],styles:[""]}),t})();var p=n("oq9R");function u(t,e){if(1&t&&(s.Pb(0,"ion-badge",9),s.Nb(1,"ion-icon",10),s.pc(2),s.Pb(3,"i",11),s.pc(4),s.Ob(),s.Ob()),2&t){const t=s.Zb();s.Cb(2),s.rc(" ",t.product.average_rating," "),s.Cb(2),s.rc("(",t.product.rating_count,")")}}function f(t,e){1&t&&(s.Pb(0,"p",12),s.pc(1,"Out of stock"),s.Ob())}function h(t,e){if(1&t&&s.Nb(0,"p",13),2&t){const t=s.Zb();s.cc("innerHTML",t.product.price_html.replace("KG","kg"),s.lc)}}function m(t,e){1&t&&(s.Pb(0,"p",14),s.pc(1,"Select a variation to buy"),s.Ob())}function v(t,e){if(1&t&&(s.Pb(0,"ion-col",15),s.Nb(1,"add-to-cart",16),s.Ob()),2&t){const t=s.Zb();s.Cb(1),s.cc("product",t.product)}}let y=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Gb({type:t,selectors:[["app-item"]],inputs:{product:"product"},decls:15,vars:9,consts:[[3,"routerLink"],[3,"src"],["class","ion-float-right","color","danger","style","margin: -2rem 0.5rem 0 0;",4,"ngIf"],["class","description","color","medium",4,"ngIf"],[1,"ion-text-wrap",3,"innerHTML"],["size","6",1,"ion-text-left","ion-no-padding"],["style","font-size:0.925rem;margin-left:0.5rem",3,"innerHTML",4,"ngIf"],["style","padding-left:0.5rem",4,"ngIf"],["size","6","class","ion-text-right ion-no-padding",4,"ngIf"],["color","danger",1,"ion-float-right",2,"margin","-2rem 0.5rem 0 0"],["name","star"],[2,"font-weight","400"],["color","medium",1,"description"],[2,"font-size","0.925rem","margin-left","0.5rem",3,"innerHTML"],[2,"padding-left","0.5rem"],["size","6",1,"ion-text-right","ion-no-padding"],["addToCartText","Add","showIcon","true",3,"product"]],template:function(t,e){1&t&&(s.Pb(0,"ion-card"),s.Pb(1,"div",0),s.Nb(2,"img",1),s.oc(3,u,5,2,"ion-badge",2),s.Pb(4,"ion-card-content"),s.Pb(5,"ion-card-title"),s.pc(6),s.Ob(),s.oc(7,f,2,0,"p",3),s.Nb(8,"p",4),s.Ob(),s.Ob(),s.Pb(9,"ion-grid"),s.Pb(10,"ion-row"),s.Pb(11,"ion-col",5),s.oc(12,h,1,1,"p",6),s.oc(13,m,2,0,"p",7),s.Ob(),s.oc(14,v,2,1,"ion-col",8),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.Cb(1),s.ec("routerLink","/home/product/",e.product.id,""),s.Cb(1),s.dc("src",e.product.images[0].src,s.mc),s.Cb(1),s.cc("ngIf","0.00"!=e.product.average_rating),s.Cb(3),s.rc(" ",e.product.name," "),s.Cb(1),s.cc("ngIf","instock"!==e.product.stock_status),s.Cb(1),s.cc("innerHTML",e.product.short_description.substr(0,100)+" ...",s.lc),s.Cb(4),s.cc("ngIf",0===e.product.variations.length),s.Cb(1),s.cc("ngIf",e.product.variations.length>0),s.Cb(1),s.cc("ngIf",0===e.product.variations.length))},directives:[o.h,o.ab,r.h,i.j,o.i,o.l,o.o,o.F,o.m,o.e,o.q,p.a],styles:[".description[_ngcontent-%COMP%]{font-size:16px;padding-right:.5rem;font-weight:800;display:inline;color:#eee}"]}),t})();const C=function(t){return{"gray-out":t}};function O(t,e){if(1&t&&(s.Pb(0,"ion-col",7),s.Nb(1,"app-item",8),s.Ob()),2&t){const t=e.$implicit;s.cc("ngClass",s.gc(2,C,"instock"!==t.stock_status)),s.Cb(1),s.cc("product",t)}}function P(t,e){if(1&t&&(s.Pb(0,"p",4),s.Pb(1,"ion-grid",5),s.Pb(2,"ion-row",5),s.oc(3,O,2,4,"ion-col",6),s.Ob(),s.Ob(),s.Ob()),2&t){const t=s.Zb();s.Cb(3),s.cc("ngForOf",t.productList)}}function I(t,e){1&t&&(s.Pb(0,"ion-row",9),s.Pb(1,"ion-col"),s.pc(2," Loading... "),s.Ob(),s.Ob())}const S=[{path:":id",component:(()=>{class t{constructor(t,e){this.productService=t,this.contextService=e,this.productList=[]}addItemsToContext(){this.productList.forEach(t=>{this.contextService.products.find(e=>e.id===t.id)||this.contextService.products.push(t)})}updateCheckedAttribute(){this.productList=[],this.ionViewWillEnter()}ionViewWillEnter(){this.headerTitle=this.contextService.entityNameSelected;const t=this.contextService.products.filter(t=>t.categories.length>0&&t.categories[0].id===this.contextService.entityIdSelected);t.length===this.contextService.categories.find(t=>t.id===this.contextService.entityIdSelected).count?this.productList=t:this.productService.getAllProductsForCategory(this.contextService.entityIdSelected).subscribe(t=>{this.productList=t,this.productList=this.productList.filter(t=>"hidden"!==t.catalog_visibility),this.addItemsToContext()})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(a.a),s.Mb(d.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-product-list"]],decls:6,vars:3,consts:[[3,"title"],[3,"changed"],["class","cards-bg",4,"ngIf"],["class","ion-align-items-center ion-justify-content-center ion-text-center","style","height:95%",4,"ngIf"],[1,"cards-bg"],[1,"ion-no-padding"],["size-xs","12","size-sm","12","size-md","6","size-lg","4","style","margin:-1rem 0 0.25rem 0",3,"ngClass",4,"ngFor","ngForOf"],["size-xs","12","size-sm","12","size-md","6","size-lg","4",2,"margin","-1rem 0 0.25rem 0",3,"ngClass"],[3,"product"],[1,"ion-align-items-center","ion-justify-content-center","ion-text-center",2,"height","95%"]],template:function(t,e){1&t&&(s.Pb(0,"ion-header"),s.Nb(1,"app-toolbar",0),s.Pb(2,"app-category-segment-view",1),s.Xb("changed",(function(){return e.updateCheckedAttribute()})),s.Ob(),s.Ob(),s.Pb(3,"ion-content"),s.oc(4,P,4,1,"p",2),s.oc(5,I,3,0,"ion-row",3),s.Ob()),2&t&&(s.Cb(1),s.cc("title",e.headerTitle),s.Cb(3),s.cc("ngIf",e.productList.length>0),s.Cb(1),s.cc("ngIf",0==e.productList.length))},directives:[o.p,b.a,l,o.n,i.j,o.o,o.F,i.i,o.m,i.h,y],styles:[""]}),t})()}];let x=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(S)],r.j]}),t})();var w=n("k9Ri");let L=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},imports:[[i.b,c.a,o.X,w.a,x]]}),t})()}}]);