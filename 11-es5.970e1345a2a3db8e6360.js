!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{wo8r:function(n,o,r){"use strict";r.r(o),r.d(o,"OrderListPageModule",(function(){return T}));var i,c,b=r("ofXK"),s=r("3Pt+"),a=r("TEn/"),u=r("tyNb"),f=r("fXoL"),l=r("vpl3"),d=((i=function(){function n(e,o){t(this,n),this.auth=e,this.router=o}return e(n,[{key:"canActivate",value:function(){var t=this;return this.auth.isAuthenticated().then((function(n){return!!n||(t.router.navigate(["home","login"]),!1)}))}}]),n}()).\u0275fac=function(t){return new(t||i)(f.Tb(l.a),f.Tb(u.g))},i.\u0275prov=f.Ib({token:i,factory:i.\u0275fac}),i),p=r("tk/3"),h=((c=function(){function n(e){t(this,n),this.httpClient=e}return e(n,[{key:"createOrder",value:function(t){return this.httpClient.post("orders",t)}},{key:"getOrderListForCustomerId",value:function(t){return this.httpClient.get("customers/".concat(t,"/orders"))}}]),n}()).\u0275fac=function(t){return new(t||c)(f.Tb(p.b))},c.\u0275prov=f.Ib({token:c,factory:c.\u0275fac,providedIn:"root"}),c),g=r("n90K"),O=r("np0s");function m(t,n){if(1&t&&(f.Pb(0,"p",11),f.pc(1),f.Pb(2,"a",12),f.pc(3),f.Ob(),f.Ob()),2&t){var e=n.$implicit;f.Cb(1),f.rc(" ",e.quantity," kg of "),f.Cb(1),f.ec("routerLink","/home/product/",e.product_id,""),f.Cb(1),f.qc(e.name)}}function v(t,n){if(1&t&&(f.Pb(0,"ion-item"),f.Pb(1,"ion-grid"),f.Pb(2,"ion-row"),f.Pb(3,"ion-col",5),f.Pb(4,"ion-label"),f.Pb(5,"b"),f.pc(6),f.Ob(),f.pc(7," \xa0\xa0"),f.Pb(8,"ion-badge",6),f.pc(9),f.Ob(),f.Nb(10,"br"),f.Pb(11,"small",7),f.pc(12,"Via "),f.Pb(13,"i"),f.pc(14),f.Ob(),f.Ob(),f.Ob(),f.Pb(15,"ion-label",8),f.pc(16),f.Ob(),f.Ob(),f.Pb(17,"ion-col",5),f.oc(18,m,4,3,"p",9),f.Pb(19,"p",10),f.pc(20),f.Ob(),f.Ob(),f.Ob(),f.Ob(),f.Ob()),2&t){var e=n.$implicit;f.Cb(6),f.rc("Order #",e.order_number,""),f.Cb(2),f.cc("color","completed"==e.status?"success":"paid"==e.status?"warning":"danger"),f.Cb(1),f.rc("",e.status," "),f.Cb(5),f.qc(e.shipping_methods),f.Cb(2),f.rc("\u20b9 ",e.total,""),f.Cb(2),f.cc("ngForOf",e.line_items),f.Cb(2),f.rc("Order created on ",e.created_at.substring(0,10)," ")}}function P(t,n){if(1&t&&(f.Pb(0,"ion-list"),f.oc(1,v,21,7,"ion-item",4),f.Ob()),2&t){var e=f.Zb();f.Cb(1),f.cc("ngForOf",e.orders)}}function w(t,n){1&t&&(f.Pb(0,"ion-item"),f.Pb(1,"ion-thumbnail",13),f.Nb(2,"ion-skeleton-text",14),f.Ob(),f.Pb(3,"ion-label"),f.Pb(4,"h3"),f.Nb(5,"ion-skeleton-text",15),f.Ob(),f.Pb(6,"p"),f.Nb(7,"ion-skeleton-text",15),f.Ob(),f.Pb(8,"p"),f.Nb(9,"ion-skeleton-text",16),f.Ob(),f.Pb(10,"p"),f.Nb(11,"ion-skeleton-text",16),f.Ob(),f.Ob(),f.Ob())}var y=function(){return[]};function C(t,n){1&t&&(f.Pb(0,"ion-list"),f.oc(1,w,12,0,"ion-item",4),f.Ob()),2&t&&(f.Cb(1),f.cc("ngForOf",f.fc(1,y).constructor(3)))}function k(t,n){1&t&&(f.Pb(0,"ion-list"),f.Pb(1,"ion-item"),f.pc(2," No orders to list "),f.Ob(),f.Ob())}var x,I,F,L=[{path:"",component:(x=function(){function n(e,o){t(this,n),this.orderService=e,this.storageService=o,this.orders=[],this.loading=!0}return e(n,[{key:"getOrderList",value:function(){var t=this;return this.storageService.get("user").then((function(n){t.user=n,t.orderService.getOrderListForCustomerId(t.user.id).subscribe((function(n){t.loading=!1,t.orders=n.orders}))}))}},{key:"doRefresh",value:function(t){this.getOrderList().then((function(n){t.target.complete()}))}},{key:"ngOnInit",value:function(){this.getOrderList().then((function(t){}))}}]),n}(),x.\u0275fac=function(t){return new(t||x)(f.Mb(h),f.Mb(g.a))},x.\u0275cmp=f.Gb({type:x,selectors:[["app-order-list"]],decls:8,vars:3,consts:[["title","My Account"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Pull down to refresh","refreshingSpinner","bubbles"],[4,"ngIf"],[4,"ngFor","ngForOf"],["size","12"],[2,"margin-bottom","-0.15rem",3,"color"],[1,"secondary"],[1,"ion-text-right",2,"margin-top","-2rem","color","#999"],["class","ion-text-wrap",4,"ngFor","ngForOf"],[1,"secondary",2,"font-size","13px"],[1,"ion-text-wrap"],[2,"text-decoration","none",3,"routerLink"],["slot","start"],["animated",""],["animated","",2,"width","80%"],["animated","",2,"width","50%"]],template:function(t,n){1&t&&(f.Pb(0,"ion-header"),f.Nb(1,"app-toolbar",0),f.Ob(),f.Pb(2,"ion-content"),f.Pb(3,"ion-refresher",1),f.Xb("ionRefresh",(function(t){return n.doRefresh(t)})),f.Nb(4,"ion-refresher-content",2),f.Ob(),f.oc(5,P,2,1,"ion-list",3),f.oc(6,C,2,2,"ion-list",3),f.oc(7,k,3,0,"ion-list",3),f.Ob()),2&t&&(f.Cb(5),f.cc("ngIf",n.orders.length>0),f.Cb(1),f.cc("ngIf",0==n.orders.length&&n.loading),f.Cb(1),f.cc("ngIf",0==n.orders.length&&!n.loading))},directives:[a.p,O.a,a.n,a.C,a.D,b.j,a.x,b.i,a.v,a.o,a.F,a.m,a.w,a.e,u.i,a.ab,a.U,a.L],styles:[""]}),x),canActivate:[d]}],N=((I=function n(){t(this,n)}).\u0275mod=f.Kb({type:I}),I.\u0275inj=f.Jb({factory:function(t){return new(t||I)},providers:[d],imports:[[u.j.forChild(L)],u.j]}),I),j=r("k9Ri"),T=((F=function n(){t(this,n)}).\u0275mod=f.Kb({type:F}),F.\u0275inj=f.Jb({factory:function(t){return new(t||F)},imports:[[b.b,s.a,a.X,j.a,N]]}),F)}}])}();