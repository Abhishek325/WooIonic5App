!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"E8+X":function(e,i,c){"use strict";c.r(i),c.d(i,"ProductListPageModule",(function(){return j}));var o=c("ofXK"),r=c("3Pt+"),s=c("TEn/"),a=c("tyNb"),u=c("fXoL"),d=c("MSUK"),b=c("gXft"),l=c("np0s");function p(t,e){if(1&t){var n=u.Qb();u.Pb(0,"ion-segment-button",3),u.Xb("click",(function(){u.kc(n);var t=e.$implicit;return u.Zb().onChange(t.id,t.name)})),u.pc(1),u.Ob()}if(2&t){var i=e.$implicit;u.cc("value",i.id),u.Cb(1),u.rc("",i.name," ")}}var g,f=((g=function(){function e(n){t(this,e),this.contextService=n,this.changed=new u.o}return n(e,[{key:"onChange",value:function(t,e){this.categoryId=t,this.contextService.entityIdSelected=t,this.contextService.entityNameSelected=e,this.changed.emit()}},{key:"ngOnInit",value:function(){this.categoryId=this.contextService.entityIdSelected,this.categoryListForSegment=this.contextService.categories}}]),e}()).\u0275fac=function(t){return new(t||g)(u.Mb(b.a))},g.\u0275cmp=u.Gb({type:g,selectors:[["app-category-segment-view"]],outputs:{changed:"changed"},decls:3,vars:2,consts:[[1,"ion-no-margin","ion-no-padding"],["scrollable","","no-margin","",3,"value"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]],template:function(t,e){1&t&&(u.Pb(0,"ion-card",0),u.Pb(1,"ion-segment",1),u.oc(2,p,2,2,"ion-segment-button",2),u.Ob(),u.Ob()),2&t&&(u.Cb(1),u.cc("value",e.categoryId),u.Cb(1),u.cc("ngForOf",e.categoryListForSegment))},directives:[s.h,s.H,s.bb,o.i,s.I],styles:[""]}),g),h=c("oq9R");function m(t,e){if(1&t&&(u.Pb(0,"ion-badge",9),u.Nb(1,"ion-icon",10),u.pc(2),u.Pb(3,"i",11),u.pc(4),u.Ob(),u.Ob()),2&t){var n=u.Zb();u.Cb(2),u.rc(" ",n.product.average_rating," "),u.Cb(2),u.rc("(",n.product.rating_count,")")}}function v(t,e){1&t&&(u.Pb(0,"p",12),u.pc(1,"Out of stock"),u.Ob())}function y(t,e){if(1&t&&u.Nb(0,"p",13),2&t){var n=u.Zb();u.cc("innerHTML",n.product.price_html.replace("KG","kg"),u.lc)}}function C(t,e){1&t&&(u.Pb(0,"p",14),u.pc(1,"Select a variation to buy"),u.Ob())}function O(t,e){if(1&t&&(u.Pb(0,"ion-col",15),u.Nb(1,"add-to-cart",16),u.Ob()),2&t){var n=u.Zb();u.Cb(1),u.cc("product",n.product)}}var P,I=((P=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||P)},P.\u0275cmp=u.Gb({type:P,selectors:[["app-item"]],inputs:{product:"product"},decls:15,vars:9,consts:[[3,"routerLink"],[3,"src"],["class","ion-float-right","color","danger","style","margin: -2rem 0.5rem 0 0;",4,"ngIf"],["class","description","color","medium",4,"ngIf"],[1,"ion-text-wrap",3,"innerHTML"],["size","6",1,"ion-text-left","ion-no-padding"],["style","font-size:0.925rem;margin-left:0.5rem",3,"innerHTML",4,"ngIf"],["style","padding-left:0.5rem",4,"ngIf"],["size","6","class","ion-text-right ion-no-padding",4,"ngIf"],["color","danger",1,"ion-float-right",2,"margin","-2rem 0.5rem 0 0"],["name","star"],[2,"font-weight","400"],["color","medium",1,"description"],[2,"font-size","0.925rem","margin-left","0.5rem",3,"innerHTML"],[2,"padding-left","0.5rem"],["size","6",1,"ion-text-right","ion-no-padding"],["addToCartText","Add","showIcon","true",3,"product"]],template:function(t,e){1&t&&(u.Pb(0,"ion-card"),u.Pb(1,"div",0),u.Nb(2,"img",1),u.oc(3,m,5,2,"ion-badge",2),u.Pb(4,"ion-card-content"),u.Pb(5,"ion-card-title"),u.pc(6),u.Ob(),u.oc(7,v,2,0,"p",3),u.Nb(8,"p",4),u.Ob(),u.Ob(),u.Pb(9,"ion-grid"),u.Pb(10,"ion-row"),u.Pb(11,"ion-col",5),u.oc(12,y,1,1,"p",6),u.oc(13,C,2,0,"p",7),u.Ob(),u.oc(14,O,2,1,"ion-col",8),u.Ob(),u.Ob(),u.Ob()),2&t&&(u.Cb(1),u.ec("routerLink","/home/product/",e.product.id,""),u.Cb(1),u.dc("src",e.product.images[0].src,u.mc),u.Cb(1),u.cc("ngIf","0.00"!=e.product.average_rating),u.Cb(3),u.rc(" ",e.product.name," "),u.Cb(1),u.cc("ngIf","instock"!==e.product.stock_status),u.Cb(1),u.cc("innerHTML",e.product.short_description.substr(0,100)+" ...",u.lc),u.Cb(4),u.cc("ngIf",0===e.product.variations.length),u.Cb(1),u.cc("ngIf",e.product.variations.length>0),u.Cb(1),u.cc("ngIf",0===e.product.variations.length))},directives:[s.h,s.ab,a.h,o.j,s.i,s.l,s.o,s.F,s.m,s.e,s.q,h.a],styles:[".description[_ngcontent-%COMP%]{font-size:16px;padding-right:.5rem;font-weight:800;display:inline;color:#eee}"]}),P),w=function(t){return{"gray-out":t}};function S(t,e){if(1&t&&(u.Pb(0,"ion-col",7),u.Nb(1,"app-item",8),u.Ob()),2&t){var n=e.$implicit;u.cc("ngClass",u.gc(2,w,"instock"!==n.stock_status)),u.Cb(1),u.cc("product",n)}}function x(t,e){if(1&t&&(u.Pb(0,"p",4),u.Pb(1,"ion-grid",5),u.Pb(2,"ion-row",5),u.oc(3,S,2,4,"ion-col",6),u.Ob(),u.Ob(),u.Ob()),2&t){var n=u.Zb();u.Cb(3),u.cc("ngForOf",n.productList)}}function k(t,e){1&t&&(u.Pb(0,"ion-row",9),u.Pb(1,"ion-col"),u.pc(2," Loading... "),u.Ob(),u.Ob())}var L,z,T,F=[{path:":id",component:(L=function(){function e(n,i){t(this,e),this.productService=n,this.contextService=i,this.productList=[]}return n(e,[{key:"addItemsToContext",value:function(){var t=this;this.productList.forEach((function(e){t.contextService.products.find((function(t){return t.id===e.id}))||t.contextService.products.push(e)}))}},{key:"updateCheckedAttribute",value:function(){this.productList=[],this.ionViewWillEnter()}},{key:"ionViewWillEnter",value:function(){var t=this;this.headerTitle=this.contextService.entityNameSelected;var e=this.contextService.products.filter((function(e){return e.categories.length>0&&e.categories[0].id===t.contextService.entityIdSelected}));e.length===this.contextService.categories.find((function(e){return e.id===t.contextService.entityIdSelected})).count?this.productList=e:this.productService.getAllProductsForCategory(this.contextService.entityIdSelected).subscribe((function(e){t.productList=e,t.productList=t.productList.filter((function(t){return"hidden"!==t.catalog_visibility})),t.addItemsToContext()}))}}]),e}(),L.\u0275fac=function(t){return new(t||L)(u.Mb(d.a),u.Mb(b.a))},L.\u0275cmp=u.Gb({type:L,selectors:[["app-product-list"]],decls:6,vars:3,consts:[[3,"title"],[3,"changed"],["class","cards-bg",4,"ngIf"],["class","ion-align-items-center ion-justify-content-center ion-text-center","style","height:95%",4,"ngIf"],[1,"cards-bg"],[1,"ion-no-padding"],["size-xs","12","size-sm","12","size-md","6","size-lg","4","style","margin:-1rem 0 0.25rem 0",3,"ngClass",4,"ngFor","ngForOf"],["size-xs","12","size-sm","12","size-md","6","size-lg","4",2,"margin","-1rem 0 0.25rem 0",3,"ngClass"],[3,"product"],[1,"ion-align-items-center","ion-justify-content-center","ion-text-center",2,"height","95%"]],template:function(t,e){1&t&&(u.Pb(0,"ion-header"),u.Nb(1,"app-toolbar",0),u.Pb(2,"app-category-segment-view",1),u.Xb("changed",(function(){return e.updateCheckedAttribute()})),u.Ob(),u.Ob(),u.Pb(3,"ion-content"),u.oc(4,x,4,1,"p",2),u.oc(5,k,3,0,"ion-row",3),u.Ob()),2&t&&(u.Cb(1),u.cc("title",e.headerTitle),u.Cb(3),u.cc("ngIf",e.productList.length>0),u.Cb(1),u.cc("ngIf",0==e.productList.length))},directives:[s.p,l.a,f,s.n,o.j,s.o,s.F,o.i,s.m,o.h,I],styles:[""]}),L)}],M=((z=function e(){t(this,e)}).\u0275mod=u.Kb({type:z}),z.\u0275inj=u.Jb({factory:function(t){return new(t||z)},imports:[[a.j.forChild(F)],a.j]}),z),N=c("k9Ri"),j=((T=function e(){t(this,e)}).\u0275mod=u.Kb({type:T}),T.\u0275inj=u.Jb({factory:function(t){return new(t||T)},imports:[[o.b,r.a,s.X,N.a,M]]}),T)}}])}();